{"version":3,"sources":["app.js","misc/capitalize.filter.js","misc/d3Config.constant.js","routes/routes.js","services/classes.service.js","services/columns.service.js","services/gameModes.service.js","services/isEndGame.service.js","services/isItemVisibleForClass.service.js","services/isVisibleForCategory.service.js","services/item.service.js","services/itemCategory.service.js","services/itemTracking.service.js","services/seasons.service.js","services/version.service.js","directives/disclaimer/disclaimer.directive.js","directives/navbar/navbar.controller.js","directives/navbar/navbar.directive.js","directives/itemFilter/itemFilter.directive.js","directives/options/options.directive.js","routes/items/items.controller.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["(function() {\r\n    'use strict';\r\n\r\n    angular.module('d3-item-manager', ['ngRoute', 'toggle-switch']);\r\n})();","(function() {\r\n    'use strict';\r\n\r\n    angular.module('d3-item-manager').filter('capitalize', capitalizeFilter);\r\n\r\n    function capitalizeFilter() {\r\n        return function(input) {\r\n            if (typeof input === \"String\") return input;\r\n            var tokens = input.split('-');\r\n            tokens = _.map(tokens, capitalize);\r\n            return tokens.join(' ');\r\n        };\r\n\r\n        function capitalize(input) {\r\n            input = input.toLowerCase();\r\n            return input.substring(0, 1).toUpperCase() + input.substring(1);\r\n        }\r\n    }\r\n\r\n})();","(function() {\r\n    'use strict';\r\n\r\n    angular.module('d3-item-manager').constant('d3Config', {\r\n        githubUrl:  'https://github.com/palortoff/d3-item-manager',\r\n        gameSeason: 4\r\n    })\r\n\r\n})();","(function() {\r\n    'use strict';\r\n\r\n    angular.module('d3-item-manager').config(function($routeProvider) {\r\n\r\n        $routeProvider.\r\n            when('/', {\r\n                redirectTo: '/items'\r\n            }).\r\n            when('/items', {\r\n                templateUrl: 'routes/items/items.template.html',\r\n                controller:'ItemsController',\r\n                controllerAs: 'vm'\r\n            });\r\n    });\r\n})();","(function() {\r\n    'use strict';\r\n\r\n    angular.module('d3-item-manager').factory('classes', classes);\r\n\r\n    var keyCurrent = 'currentClass';\r\n\r\n    var _all = [\r\n        {id: 0, name: 'all'},\r\n        {id: 6, name: 'barbarian'},\r\n        {id: 3, name: 'crusader'},\r\n        {id: 2, name: 'demon-hunter'},\r\n        {id: 1, name: 'monk'},\r\n        {id: 4, name: 'witch-doctor'},\r\n        {id: 5, name: 'wizard'}\r\n    ];\r\n    var _current = localStorage.getItem(keyCurrent) || 6;\r\n\r\n    function classes() {\r\n        return {\r\n            all,\r\n            distinct,\r\n            current,\r\n            setCurrent\r\n        };\r\n\r\n        function current() {\r\n            return _.find(all(), function(c) {return c.id == _current;});\r\n        }\r\n\r\n        function all() {\r\n            return _all;\r\n        }\r\n\r\n        function distinct() {\r\n            return _all.filter(function(c) {return c.id != 0;});\r\n        }\r\n\r\n        function setCurrent(id) {\r\n            _current = id;\r\n            localStorage.setItem(keyCurrent, id)\r\n        }\r\n    }\r\n\r\n})();","(function() {\r\n    'use strict';\r\n\r\n    angular.module('d3-item-manager').factory('columns', columns);\r\n\r\n    var keyAll = 'allColumns';\r\n    var defaultSet = ['Stashed'];\r\n\r\n    var _all = JSON.parse(localStorage.getItem(keyAll)) || defaultSet;\r\n\r\n    function columns() {\r\n        return {\r\n            remove:     remove,\r\n            add:        add,\r\n            all:        all\r\n        };\r\n\r\n        function all() {\r\n            return _all;\r\n        }\r\n\r\n        function remove(gm) {\r\n            _all = _all.filter(function(item) {return item !== gm;});\r\n            save();\r\n        }\r\n\r\n        function add(gm) {\r\n            if (_.contains(_all, gm)) return;\r\n            _all.push(gm);\r\n            save();\r\n        }\r\n\r\n        function save() {\r\n            localStorage.setItem(keyAll, JSON.stringify(_all));\r\n        }\r\n    }\r\n\r\n})();","(function() {\r\n    'use strict';\r\n\r\n    angular.module('d3-item-manager').factory('gameModes', gameModes);\r\n\r\n    var keyAll = 'allGameModes';\r\n    var keyCurrent = 'currentGameMode';\r\n    var defaultSet = ['Softcore', 'Hardcore'];\r\n\r\n    var _all = JSON.parse(localStorage.getItem(keyAll)) || defaultSet;\r\n    var _current = localStorage.getItem(keyCurrent) || _all[0];\r\n\r\n    function gameModes() {\r\n        return {\r\n            current:    current,\r\n            setCurrent: setCurrent,\r\n            remove:     remove,\r\n            add:        add,\r\n            all:        all\r\n        };\r\n\r\n        function current() {\r\n            return _current;\r\n        }\r\n\r\n        function all() {\r\n            return _all;\r\n        }\r\n\r\n        function setCurrent(c) {\r\n            _current = c;\r\n            localStorage.setItem(keyCurrent, c)\r\n        }\r\n\r\n        function setDefault() {\r\n            if (!_.find(_all, current)) {\r\n                setCurrent(_all[0]);\r\n            }\r\n        }\r\n\r\n        function remove(gm) {\r\n            _all = _all.filter(function(item) {return item !== gm;});\r\n            setDefault();\r\n            save();\r\n        }\r\n\r\n        function add(gm) {\r\n            if (_.contains(_all, gm)) return;\r\n            _all.push(gm);\r\n            save();\r\n        }\r\n\r\n        function save() {\r\n            localStorage.setItem(keyAll, JSON.stringify(_all));\r\n        }\r\n    }\r\n\r\n})();","(function() {\r\n    'use strict';\r\n\r\n    angular.module('d3-item-manager').factory('isEndGame', isEndGame);\r\n\r\n    function isEndGame() {\r\n        return function(item) {\r\n            if (item.crafted && item.setItem) {\r\n                return item.requiredLevel === 70;\r\n            }\r\n            return true;\r\n        };\r\n    }\r\n})();","(function() {\r\n    'use strict';\r\n\r\n    angular.module('d3-item-manager').factory('isItemVisibleForClass', isItemVisibleForClass);\r\n\r\n    function isItemVisibleForClass(classes, $http) {\r\n\r\n        var itemTypeClass;\r\n        var isLoaded = false;\r\n\r\n        $http.get('items/itemTypeClass.json?' + Date.now()).\r\n            then(function(result) {\r\n                itemTypeClass = result.data;\r\n                isLoaded = true;\r\n            });\r\n\r\n        return function(item) {\r\n            if (!isLoaded) return false;\r\n\r\n            if (classes.current().id == 0) return true;\r\n\r\n            if (item.name === \"Eye of Peshkov\")\r\n            {\r\n                isLoaded = true; // TODO: remove debug line\r\n            }\r\n\r\n            var itemVisibility = isItemVisible(item);\r\n            if (itemVisibility === false) return false;\r\n            if (itemVisibility === true) return true;\r\n\r\n            return isItemTypeVisible(item);\r\n\r\n        };\r\n\r\n        function isItemVisible(item){\r\n            if (item.classes){\r\n                return _.contains(item.classes, classes.current().name);\r\n            }\r\n            return undefined;\r\n        }\r\n\r\n        function isItemTypeVisible(item){\r\n            if (itemTypeClass[item.type.id]){\r\n                return _.contains(itemTypeClass[item.type.id], classes.current().name);\r\n            }\r\n\r\n            return true;\r\n        }\r\n    }\r\n\r\n})();","(function() {\r\n    'use strict';\r\n\r\n    angular.module('d3-item-manager').factory('isItemVisibleForCategory', isItemVisibleForCategory);\r\n\r\n    function isItemVisibleForCategory(itemCategory) {\r\n        return function(item) {\r\n            return itemCategory.current().filter(item);\r\n        }\r\n    }\r\n\r\n})();","(function() {\r\n    'use strict';\r\n\r\n    angular.module('d3-item-manager').factory('items', items);\r\n\r\n    function items($http) {\r\n        return {\r\n            load\r\n        };\r\n\r\n        function load() {\r\n            return $http.get('items/items.json?' + Date.now()).\r\n                then(function(result) {\r\n                    return result.data;\r\n                });\r\n        }\r\n    }\r\n})();","(function() {\r\n    'use strict';\r\n\r\n    angular.module('d3-item-manager').factory('itemCategory', itemCategory);\r\n\r\n    var key = 'itemCategory';\r\n\r\n    function itemCategory() {\r\n        var selected = localStorage.getItem(key) || 1;\r\n\r\n        return {\r\n            all,\r\n            getCategory,\r\n            current,\r\n            set\r\n        };\r\n\r\n        function set(s) {\r\n            selected = s;\r\n            localStorage.setItem(key, s)\r\n        }\r\n\r\n        function getCategory(id) {\r\n            return categoryById(id);\r\n        }\r\n\r\n        function current() {\r\n            return categoryById(selected);\r\n        }\r\n\r\n        function categoryById(id) {\r\n            return _.find(all, function(cat) {\r\n                return cat.id == id\r\n            });\r\n        }\r\n    }\r\n\r\n    var all = [\r\n        {id: 1, name: \"Cube: Weapons\", filter: function(item) {return item.cube && item.cubeCategory === \"Weapon\";}},\r\n        {id: 2, name: \"Cube: Armor\", filter: function(item) {return item.cube && item.cubeCategory === \"Armor\";}},\r\n        {id: 3, name: \"Cube: Jewelry\", filter: function(item) { return item.cube && item.cubeCategory === \"Jewelry\"; }},\r\n\r\n        {\"class\": \"divider\"},\r\n\r\n        {id: 4, name: 'Horadric Cache Items', filter: function(item) { return !!item.bounty; }},\r\n        {id: 5, name: 'Season 1', filter: function(item) { return item.season == 1; }, \"class\": 'hide'},\r\n        {id: 6, name: 'Season 2', filter: function(item) { return item.season == 2; }, \"class\": 'hide'},\r\n        {id: 7, name: 'Season 3', filter: function(item) { return item.season == 3; }, \"class\": 'hide'},\r\n        {id: 8, name: 'Season 4', filter: function(item) { return item.season == 4; }},\r\n\r\n        {\"class\": \"divider\"},\r\n\r\n        {id: 9, name: 'Crafted (Legendary)', filter: function(item) { return item.crafted && item.displayColor === \"orange\" && item.requiredLevel == 70; }, \"class\": 'hide'},\r\n        {id: 10, name: 'Crafted (Set)', filter: function(item) { return item.crafted && item.displayColor === \"green\" && item.requiredLevel == 70; }, \"class\": 'hide'},\r\n\r\n        {\"class\": \"divider hide\"},\r\n\r\n        {id: 11, name: \"Neck\", filter: function(item) { return _.contains(item.slots, 'neck'); }},\r\n        {id: 12, name: \"Finger\", filter: function(item) { return _.contains(item.slots, 'left-finger'); }},\r\n        {id: 13, name: \"Head\", filter: function(item) {return _.contains(item.slots, 'head'); }},\r\n        {id: 14, name: \"Torso\", filter: function(item) {return _.contains(item.slots, 'chest');}},\r\n        {id: 15, name: \"Waist\", filter: function(item) {return _.contains(item.slots, 'waist');}},\r\n        {id: 16, name: \"Legs\", filter: function(item) {return _.contains(item.slots, 'legs');}},\r\n        {id: 17, name: \"Feet\", filter: function(item) {return _.contains(item.slots, 'feet');}},\r\n        {id: 18, name: \"Shoulder\", filter: function(item) {return _.contains(item.slots, 'shoulder');}},\r\n        {id: 19, name: \"Hands\", filter: function(item) {return _.contains(item.slots, 'hands');}},\r\n        {id: 20, name: \"Bracers\", filter: function(item) {return _.contains(item.slots, 'bracers');}},\r\n        {id: 21, name: \"Weapon (1H)\", filter: function(item) {return _.contains(item.slots, 'left-hand') && !item.type.twoHanded; }},\r\n        {id: 22, name: \"Weapon (2H)\", filter: function(item) {return _.contains(item.slots, 'left-hand') && item.type.twoHanded;}},\r\n        {id: 23, name: \"Off-Hand\", filter: function(item) {return _.contains(['Shield', 'CrusaderShield', 'Quiver', 'Mojo', 'Orb'], item.type.id);}},\r\n        {id: 24, name: \"Follower\", filter: function(item) {return _.contains(item.slots, 'follower-special');}},\r\n\r\n        {\"class\": 'divider hide'}\r\n    ];\r\n\r\n})();","(function() {\r\n    'use strict';\r\n\r\n    angular.module('d3-item-manager').factory('itemTracking', itemTracking);\r\n\r\n    var key = 'itemTracking';\r\n\r\n    function itemTracking($timeout) {\r\n        var tracking;\r\n        var notifyTimer;\r\n        var tracking2;\r\n        return {\r\n            load,\r\n            save\r\n        };\r\n\r\n        function load() {\r\n            upgradeIfNecessary();\r\n            tracking = JSON.parse(localStorage.getItem(key)) || {};\r\n            return tracking;\r\n        }\r\n\r\n        function save() {\r\n            notifySave();\r\n            localStorage.setItem(key, JSON.stringify(tracking));\r\n        }\r\n\r\n        function notifySave() {\r\n            $timeout.cancel(notifyTimer);\r\n            notifyTimer = $timeout(function() {\r\n                toastr.success('Items saved', {timeOut: 1000});\r\n            }, 1000);\r\n        }\r\n\r\n        function upgradeIfNecessary() {\r\n            upgradeFromCubeSectionsToOneTrackingContainer();\r\n        }\r\n\r\n        function upgradeFromCubeSectionsToOneTrackingContainer() {\r\n            var hasOldSectionData = !!localStorage.getItem('armor') || !!localStorage.getItem('weapons') || !!localStorage.getItem('jewelry');\r\n            var hasTrackingContainer = !!localStorage.getItem(key);\r\n\r\n            if (hasOldSectionData && !hasTrackingContainer) {\r\n                var armor = JSON.parse(localStorage.getItem('armor'));\r\n                var weapons = JSON.parse(localStorage.getItem('weapons'));\r\n                var jewls = JSON.parse(localStorage.getItem('jewelry'));\r\n                tracking = _.defaults({}, armor, weapons, jewls);\r\n                save();\r\n                console.log(\"upgradedFromCubeSectionsToOneTrackingContainer\");\r\n\r\n                localStorage.setItem('armor_backup', JSON.stringify(armor));\r\n                localStorage.setItem('weapons_backup', JSON.stringify(weapons));\r\n                localStorage.setItem('jewls_backup', JSON.stringify(jewls));\r\n\r\n                localStorage.removeItem('armor');\r\n                localStorage.removeItem('weapons');\r\n                localStorage.removeItem('jewelry');\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n})();","(function() {\r\n    'use strict';\r\n\r\n    angular.module('d3-item-manager').factory('seasons', seasons);\r\n\r\n    var keyAll = 'allSeasons';\r\n    var keyCurrent = 'currentSeason';\r\n    var defaultSet = ['Season 4'];\r\n\r\n    var _all = JSON.parse(localStorage.getItem(keyAll)) || defaultSet;\r\n    var _current = localStorage.getItem(keyCurrent) || \"Non Season\";\r\n\r\n    function seasons() {\r\n        return {\r\n            current:    current,\r\n            setCurrent: setCurrent,\r\n            remove:     remove,\r\n            add:        add,\r\n            all:        all\r\n        };\r\n\r\n        function current() {\r\n            return _current;\r\n        }\r\n\r\n        function all() {\r\n            return _all;\r\n        }\r\n\r\n        function setCurrent(c) {\r\n            _current = c;\r\n            localStorage.setItem(keyCurrent, c)\r\n        }\r\n\r\n        function setDefault() {\r\n            if (!_.find(_all, current)) {\r\n                setCurrent(_all[0]);\r\n            }\r\n        }\r\n\r\n        function remove(gm) {\r\n            _all = _all.filter(function(item) {return item !== gm;});\r\n            setDefault();\r\n            save();\r\n        }\r\n\r\n        function add(gm) {\r\n            if (_.contains(_all, gm)) return;\r\n            _all.push(gm);\r\n            save();\r\n        }\r\n\r\n        function save() {\r\n            localStorage.setItem(keyAll, JSON.stringify(_all));\r\n        }\r\n    }\r\n\r\n})();","(function() {\r\n    'use strict';\r\n\r\n    angular.module('d3-item-manager').factory('version', version);\r\n\r\n    function version($http) {\r\n        return {\r\n            get:        getVersion\r\n        };\r\n\r\n        function getVersion(){\r\n            return $http.get('version.json?' + Date.now()).\r\n                then(function(result) {\r\n                    return result.data;\r\n                });\r\n\r\n        }\r\n    }\r\n\r\n})();","(function() {\r\n    'use strict';\r\n\r\n    angular.module('d3-item-manager').directive('disclaimer', disclaimer);\r\n\r\n    var disclaimerVersion = 1;\r\n    var key = 'disclaimerRead';\r\n\r\n    function disclaimer(){\r\n        return {\r\n            restrict:'E',\r\n            scope: {},\r\n            templateUrl: 'directives/disclaimer/disclaimer.template.html',\r\n            controller: DisclaimerController,\r\n            controllerAs: 'vm'\r\n        };\r\n\r\n        function DisclaimerController(d3Config, version){\r\n            var vm = this;\r\n            vm.d3Config = d3Config;\r\n            vm.showDisclaimer= showDisclaimer;\r\n            vm.dismiss = dismiss;\r\n            vm.version = '';\r\n\r\n            version.get().then(function(version){\r\n                vm.version = version.version;\r\n            });\r\n\r\n\r\n            function showDisclaimer(){\r\n                return localStorage.getItem(key) != disclaimerVersion;\r\n            }\r\n\r\n            function dismiss(){\r\n                localStorage.setItem(key, disclaimerVersion);\r\n            }\r\n        }\r\n    }\r\n\r\n})();","(function() {\r\n    'use strict';\r\n\r\n    angular.module('d3-item-manager').controller('NavBarController', NavBarController);\r\n\r\n    function NavBarController(classes, gameModes, seasons, itemCategory) {\r\n        var vm = this;\r\n\r\n        vm.gameModes = gameModes;\r\n        vm.seasons = seasons;\r\n        vm.classes = classes;\r\n        vm.itemCategory = itemCategory;\r\n\r\n        vm.showDisclaimer = function() {\r\n            localStorage.setItem('disclaimerRead', 0);\r\n        };\r\n        vm.showOptions = function() {\r\n            localStorage.setItem('showOptions', \"true\");\r\n        };\r\n    }\r\n})();\r\n","(function () {\r\n    'use strict';\r\n\r\n    angular.module('d3-item-manager').directive('navBar', function () {\r\n        return {\r\n            restrict:'E',\r\n            templateUrl: 'directives/navbar/navbar.template.html',\r\n            scope: {},\r\n            controller: 'NavBarController',\r\n            controllerAs: 'vm'\r\n        };\r\n    })\r\n})();","(function() {\r\n    'use strict';\r\n\r\n    angular.module('d3-item-manager').directive('itemFilter', itemFilter);\r\n\r\n    function itemFilter() {\r\n        return {\r\n            restrict: 'E',\r\n\r\n            scope:            {\r\n                filterValue:   '=',\r\n                filterOverAll: '=',\r\n                onlyCubable:   '=',\r\n                hideCubed:     '='\r\n            },\r\n            bindToController: true,\r\n            templateUrl:      'directives/itemFilter/itemFilter.template.html',\r\n                              controller,\r\n            controllerAs:     'vm'\r\n        };\r\n\r\n        function controller() {\r\n            var vm = this;\r\n            vm.clear = clear;\r\n            vm.showClear = showClear;\r\n\r\n            function clear() {\r\n                vm.filterValue = '';\r\n            }\r\n\r\n            function showClear() {\r\n                return vm.filterValue.length > 0;\r\n            }\r\n        }\r\n    }\r\n})();","(function() {\r\n    'use strict';\r\n\r\n    angular.module('d3-item-manager').directive('options', options);\r\n\r\n    var disclaimerVersion = 1;\r\n    var key = 'showOptions';\r\n\r\n    function options(){\r\n        return {\r\n            restrict:'E',\r\n            scope: {},\r\n            templateUrl: 'directives/options/options.template.html',\r\n            controller: OptionsController,\r\n            controllerAs: 'vm'\r\n        };\r\n\r\n        function OptionsController(gameModes, seasons, columns){\r\n            var vm = this;\r\n            vm.gameModes = gameModes;\r\n            vm.addNewGameMode = addNewGameMode;\r\n\r\n            vm.seasons = seasons;\r\n            vm.addNewSeason = addNewSeason;\r\n\r\n            vm.columns = columns;\r\n            vm.addNewColumn = addNewColumn;\r\n\r\n            vm.showOptions= showOptions;\r\n            vm.dismiss = dismiss;\r\n\r\n            function addNewSeason(){\r\n                seasons.add(vm.newSeason);\r\n                vm.newSeason='';\r\n            }\r\n            function addNewGameMode(){\r\n                gameModes.add(vm.newGameMode);\r\n                vm.newGameMode='';\r\n            }\r\n            function addNewColumn(){\r\n                columns.add(vm.newColumn);\r\n                vm.newColumn='';\r\n            }\r\n\r\n            function showOptions(){\r\n                return localStorage.getItem(key) === \"true\";\r\n            }\r\n\r\n            function dismiss(){\r\n                localStorage.setItem(key, \"false\");\r\n            }\r\n        }\r\n    }\r\n\r\n})();","(function() {\r\n    'use strict';\r\n\r\n    angular.module('d3-item-manager').controller('ItemsController', ItemsController);\r\n\r\n    function ItemsController(items, itemTracking, isItemVisibleForCategory, isItemVisibleForClass, gameModes, seasons, columns, itemCategory, d3Config, isEndGame) {\r\n        var vm = this;\r\n\r\n        vm.itemFilter = '';\r\n        vm.filterOverAll = false;\r\n        vm.onlyCubable = false;\r\n        vm.hideCubed = false;\r\n\r\n        vm.isVisible = isVisible;\r\n\r\n        vm.gameMode = gameModes.current;\r\n        vm.season = seasons.current;\r\n        vm.columns = columns;\r\n        vm.itemCategory = itemCategory;\r\n        vm.isSeasonal = isSeasonal;\r\n        vm.bountyTitle = bountyTitle;\r\n        vm.isBounty = isBounty;\r\n        vm.isCrafted = isCrafted;\r\n\r\n        vm.toggle = toggle;\r\n        vm.cellClass = cellClass;\r\n        vm.allColumns = allColumns;\r\n        vm.items = undefined;\r\n        vm.link = link;\r\n\r\n        init();\r\n\r\n        function init() {\r\n            loadItems();\r\n        }\r\n\r\n        function loadItems() {\r\n            items.load().\r\n                then(function(data) {\r\n                    vm.items = data;\r\n                }).\r\n                then(itemTracking.load).\r\n                then(addTracking);\r\n        }\r\n\r\n        function addTracking(tracking) {\r\n            vm.items.forEach(function(item) {\r\n                if (!tracking[item.id]) tracking[item.id] = {};\r\n                item.track = tracking[item.id];\r\n            })\r\n        }\r\n\r\n        function toggle(item, column) {\r\n            if (!item.track[vm.gameMode()]) {\r\n                item.track[vm.gameMode()] = {};\r\n            }\r\n            if (!item.track[vm.gameMode()][vm.season()]) {\r\n                item.track[vm.gameMode()][vm.season()] = {};\r\n            }\r\n            item.track[vm.gameMode()][vm.season()][column] = !item.track[vm.gameMode()][vm.season()][column];\r\n            itemTracking.save();\r\n        }\r\n\r\n        function cellClass(item, column) {\r\n            return isChecked(item, column) ? 'checked' : '';\r\n        }\r\n\r\n        function isChecked(item, column) {\r\n            try {\r\n                return item.track[vm.gameMode()][vm.season()][column];\r\n            }\r\n            catch (e) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        function isCubed(item){\r\n            return isChecked(item, 'Cubed');\r\n        }\r\n\r\n        function allColumns() {\r\n            return _.flatten(['Cubed', vm.columns.all()]);\r\n        }\r\n\r\n        function isVisible(item) {\r\n            if (!isEndGame(item)) return false;\r\n\r\n            if (vm.filterOverAll && vm.itemFilter.length > 0) return true;\r\n\r\n            if (vm.onlyCubable && !item.cube) return false;\r\n            if (vm.hideCubed && isCubed(item)) return false;\r\n\r\n            if (!isItemVisibleForCategory(item)) return false;\r\n\r\n            return isItemVisibleForClass(item);\r\n\r\n        }\r\n\r\n        function isSeasonal(item) {\r\n            return item.season == d3Config.gameSeason;\r\n        }\r\n\r\n        function isBounty(item) {\r\n            return !!item.bounty;\r\n        }\r\n\r\n        function bountyTitle(item) {\r\n            return (isBounty(item)) ? 'Act ' + item.bounty.act : '';\r\n        }\r\n\r\n        function isCrafted(item) {\r\n            return item.crafted;\r\n        }\r\n\r\n        function link(item) {\r\n            var artisan = '';\r\n            if (item.crafted) {\r\n                switch (item.slots[0]) {\r\n                    case 'neck':\r\n                    case 'left-finger':\r\n                    case 'right-finger':\r\n                        artisan = 'artisan/jeweler/';\r\n                        break;\r\n                    default:\r\n                        artisan = 'artisan/blacksmith/';\r\n                }\r\n            }\r\n            return \"http://eu.battle.net/d3/en/\" + artisan + item.tooltipParams;\r\n        }\r\n    }\r\n\r\n})();"],"sourceRoot":"/source/"}